# Probability and Statistics for ML and DS(8)_Hypothesis Testing
---
## Hypothesis Testing: Making Data-Driven Decisions

> *Have You Ever Wondered How Your Spam Filter Works? Ever checked your email and noticed how most spam messages get filtered automatically? How does your email provider know which messages are genuine and which are trying to sell you something? This is where hypothesis testing comes into play—a powerful tool that helps us make decisions based on evidence.*

### Hypothesis Objects: Decision-Making Frameworks

In our object-oriented journey through statistics, we've explored probability distributions and how they help us understand randomness. Now, we'll see how to use these concepts to make decisions with confidence.

Hypothesis testing can be viewed as creating a decision-making framework with two competing hypothesis objects:

```
HypothesisTest {
    nullHypothesis: Hypothesis,      // The default assumption
    alternativeHypothesis: Hypothesis,  // What we're trying to prove
    evidenceThreshold: Number,        // How much evidence we need
    
    evaluateEvidence(data): Decision  // Method to reach a conclusion
}
```

Each hypothesis represents a possible state of reality, and our job is using data to choose between them.

### The Null and Alternative Hypotheses: Two Competing Objects

Let's define our two main hypothesis objects:

1. **Null Hypothesis $H_0$**: The default assumption or status quo. It's what we assume to be true until proven otherwise.

2. **Alternative Hypothesis $H_1$**: The competing claim we're investigating—often what we're actually interested in proving.

These two hypotheses have key properties:
- They must be mutually exclusive (they can't both be true)
- They must be exhaustive (one must be true)
- They must be testable with data

### The Email Spam Filter: Hypothesis Testing in Action

Consider a spam filter deciding whether an email is legitimate (ham) or unwanted (spam):

```
EmailClassifier {
    nullHypothesis: "Email is ham (legitimate)",
    alternativeHypothesis: "Email is spam (unwanted)",
    
    classifyEmail(emailContent): "Ham" or "Spam"
}
```

Notice something interesting here: the null hypothesis is that the email is legitimate (ham). Why? Because the consequences of incorrectly labeling a legitimate email as spam (losing important information) are usually worse than letting a spam email into your inbox.

### The Asymmetry in Hypothesis Decision-Making

Here's where hypothesis testing gets interesting—there's a fundamental asymmetry in how decisions are made:

1. If we gather sufficient evidence against $H_0$, we **reject it** and accept $H_1$
2. If we don't have enough evidence against $H_0$, we **fail to reject it**—**but this doesn't prove $H_0$ is true**

This asymmetry is similar to how our legal system works. A defendant is presumed innocent (null hypothesis) until proven guilty (alternative hypothesis) beyond reasonable doubt (evidence threshold).

Do you remember **the courtroom analogy**? Let's review it:

#### The Courtroom Analogy

Let's imagine a courtroom trial. In this trial, a person is prosecuted of committing a crime. Here's how the courtroom scenario relates to null hypothesis testing:  

- **Null Hypothesis, $H_0$**: In the courtroom, the default assumption is that the prosecuted person is innocent. This is like the null hypothesis in statistics, where we assume there's no effect or no difference between groups.

- **Alternative Hypothesis, $H_1$**: The prosecutor believes the prosecuted person is guilty and presents evidence to prove it. This is like the alternative hypothesis in statistics, where we believe there is an effect or a difference, and we try to provide evidence for it.

- **Evidence (Data)**: The prosecutor presents evidence to show that the prosecuted person is guilty. Similarly, in statistics, we collect data to test whether the null hypothesis should be rejected in favor of the alternative hypothesis.

- **The Judge/Jury (Statistical Test)**: The judge or jury evaluates the evidence. In null hypothesis testing, the statistical test evaluates the data to see if it's strong enough to reject the null hypothesis.

- **Decision (Reject or Fail to Reject)**: If the evidence is strong enough(=low P-value), the jury might decide the prosected person guilty. In statistics, this is like rejecting the null hypothesis and concluding there’s a significant effect or difference.

- If the evidence is not strong enough, the jury cannot convict, meaning the prosecuted person **remains** innocent. In statistics, this is like failing to reject the null hypothesis, meaning we don't have enough evidence to conclude there’s an effect or difference.

- **Important Note**: Just like in a courtroom, where a "not guilty" verdict doesn't necessarily mean the person is innocent (just that there wasn't enough evidence to prove guilt), **failing to reject the null hypothesis doesn't mean it's true. It just means there isn't enough evidence against it.**

- **Summary:**
  - The null hypothesis, $H_0$, is like assuming someone is innocent.
  - The alternative hypothesis, $H_1$, is like believing someone is guilty.
  - Evidence (data) is collected to test these assumptions.
  - The decision (reject or fail to reject) is based on whether the evidence is strong enough to change the assumption.

### Evidence Collection: The Heart of Hypothesis Testing

For our spam filter, evidence comes from examining the email's properties:
- Sender information
- Subject line content
- Email body text
- Presence of suspicious links
- Unusual formatting

When the email contains phrases like "earn extra cash," "risk free," "dear friend," or "act immediately," these serve as evidence against the null hypothesis, suggesting the email might be spam.

### Beyond Email: Hypothesis Testing Everywhere

This framework extends far beyond spam filtering:

**Medical Diagnosis:**
- H₀: Patient does not have the disease
- H₁: Patient has the disease
- Evidence: Test results, symptoms, medical history

**Quality Control:**
- H₀: The product batch meets quality standards 
- H₁: The product batch is defective
- Evidence: Sample testing results

**Financial Fraud Detection:**
- H₀: The transaction is legitimate
- H₁: The transaction is fraudulent
- Evidence: Transaction patterns, amount, location, timing

### Connecting to Our Previous Knowledge

Remember how we discussed probability distributions? They play a crucial role in hypothesis testing by helping us quantify the likelihood of our evidence under different hypotheses. When we calculate how likely or unlikely our observed data would be if the null hypothesis were true, we're using these distributions.

### The Hypothesis Testing Process

At its core, hypothesis testing follows these steps:

1. Define your null hypothesis, $H_0$, and alternative hypothesis, $H_1$
2. Collect data
3. Calculate how likely your data would be if $H_0$ were true
4. If this likelihood is below your threshold, reject $H_0$ in favor of $H_1$
5. Otherwise, fail to reject $H_0$

### Summary

Hypothesis testing is about making decisions under uncertainty, **not about proving absolute truth**. The null hypothesis is our default position, and **we only move away from it when the evidence is compelling enough.**

> **Remember: We assume the status quo until the data convinces us otherwise.**

---